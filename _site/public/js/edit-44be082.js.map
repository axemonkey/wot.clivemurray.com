{
  "version": 3,
  "sources": ["../../assets/js/modules/tools.js", "../../assets/js/modules/settings.js", "../../assets/js/modules/form.js", "../../assets/js/edit.js"],
  "sourcesContent": ["const getThingsFromURL = () => {\n\tlet urlThings;\n\tconst params = new URLSearchParams(document.location.search);\n\tif (params.get('things')) {\n\t\turlThings = decodeURIComponent(params.get('things')).split('^');\n\t}\n\treturn urlThings;\n};\n\nconst shuffle = (arr) => {\n\t// randomly rearanges the items in an array\n\tconst result = [];\n\tfor (let i = arr.length - 1; i >= 0; i--) {\n\t\t// picks an integer between 0 and i:\n\t\tconst r = Math.floor(Math.random() * (i + 1)); // NOTE: use a better RNG if cryptographic security is needed\n\t\t// inserts the arr[i] element in the r-th free space in the shuffled array:\n\t\tfor (let j = 0, k = 0; j <= arr.length - 1; j++) {\n\t\t\tif (result[j] === undefined) {\n\t\t\t\tif (k === r) {\n\t\t\t\t\tresult[j] = arr[i].trim(); // NOTE: if array contains objects, this doesn't clone them! Use a better clone function instead, if that is needed.\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tk++;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n};\n\nconst getNumberFromString = (string) => {\n\tlet total = 0;\n\tfor (let index = 0; index < string.length; index++) {\n\t\ttotal += string.charCodeAt(index);\n\t}\n\n\treturn total;\n};\n\nexport { getThingsFromURL, shuffle, getNumberFromString };\n", "const OPTIONS = {\n\tMIN_THINGS: 2,\n\tMAX_THINGS: 30,\n\tCOLOUR_SELECTION_METHOD: 2,\n};\n\nexport { OPTIONS };\n", "import { getThingsFromURL } from './tools.js';\nimport { OPTIONS } from './settings.js';\n\nconst initForm = () => {\n\tconst urlThings = getThingsFromURL();\n\n\tif (urlThings && urlThings.length >= 2) {\n\t\t// remove all things\n\t\tconst allThings = document.querySelector('.all-things');\n\t\tconst theThings = allThings.querySelectorAll('.thing-entry');\n\n\t\tfor (const thisThing of theThings) {\n\t\t\tthisThing.parentNode.removeChild(thisThing);\n\t\t}\n\n\t\turlThings.sort();\n\n\t\tfor (const urlThing of urlThings) {\n\t\t\taddThing(urlThing);\n\t\t}\n\t}\n};\n\nconst submitThings = () => {\n\tlet formValid = true;\n\tconst thingEntries = document.querySelectorAll('.thing-entry input');\n\tconst values = [];\n\tfor (const thingEntry of thingEntries) {\n\t\tif (thingEntry.value.length > 0) {\n\t\t\tthingEntry.classList.remove('invalid');\n\t\t\tvalues.push(encodeURIComponent(thingEntry.value));\n\t\t} else {\n\t\t\tthingEntry.classList.add('invalid');\n\t\t\tformValid = false;\n\t\t}\n\t}\n\n\tif (formValid) {\n\t\tdocument.location.href = `/?things=${encodeURIComponent(values.join('^'))}`;\n\t} else {\n\t\tconsole.log('some things are empty');\n\t}\n};\n\nconst addThing = (thingValue) => {\n\tconst allThings = document.querySelector('.all-things');\n\tconst theThings = allThings.querySelectorAll('.thing-entry');\n\tconst currentNumberOfThings = theThings.length;\n\n\tif (currentNumberOfThings < OPTIONS.MAX_THINGS) {\n\t\t// add thing\n\t\tconst newThingDiv = document.createElement('div');\n\t\tconst newThingLabel = document.createElement('label');\n\t\tconst newThingInput = document.createElement('input');\n\t\tconst newThingRemoveButton = document.createElement('button');\n\t\tconst newThingValue = thingValue || `Thing ${currentNumberOfThings + 1}`;\n\n\t\tnewThingDiv.classList.add('thing-entry');\n\t\tnewThingLabel.setAttribute('for', `thing${currentNumberOfThings + 1}`);\n\t\tnewThingLabel.innerHTML = `Thing ${currentNumberOfThings + 1}`;\n\t\tnewThingInput.classList.add('thing-value');\n\t\tnewThingInput.setAttribute('type', 'text');\n\t\tnewThingInput.setAttribute('maxlength', 30);\n\t\tnewThingInput.setAttribute('name', `thing${currentNumberOfThings + 1}`);\n\t\tnewThingInput.id = `thing${currentNumberOfThings + 1}`;\n\t\tnewThingInput.value = newThingValue;\n\t\tnewThingRemoveButton.setAttribute('tabindex', '-1');\n\t\tnewThingRemoveButton.classList.add('removeThing');\n\t\tnewThingRemoveButton.classList.add('form-button');\n\t\tnewThingRemoveButton.innerHTML = 'Remove this thing';\n\n\t\tnewThingDiv.append(newThingLabel);\n\t\tnewThingDiv.append(newThingInput);\n\t\tnewThingDiv.append(newThingRemoveButton);\n\n\t\tallThings.append(newThingDiv);\n\t} else {\n\t\t// can't add thing\n\t\tconsole.log(`couldn't add thing`);\n\t}\n};\n\nconst renumberThings = () => {\n\tconst allThings = document.querySelector('.all-things');\n\tconst theThings = allThings.querySelectorAll('.thing-entry');\n\tconst currentNumberOfThings = theThings.length;\n\n\tfor (let index = 0; index < currentNumberOfThings; index++) {\n\t\tconst theThing = theThings[index];\n\t\tconst theThingLabel = theThing.querySelector('label');\n\t\tconst theThingInput = theThing.querySelector('input');\n\n\t\ttheThingLabel.setAttribute('for', `thing${index + 1}`);\n\t\ttheThingLabel.innerHTML = `Thing ${index + 1}`;\n\t\ttheThingInput.setAttribute('name', `thing${index + 1}`);\n\t\ttheThingInput.id = `thing${index + 1}`;\n\t}\n};\n\nconst removeThing = (thingButton) => {\n\tconst allThings = document.querySelector('.all-things');\n\tconst theThings = allThings.querySelectorAll('.thing-entry');\n\tconst currentNumberOfThings = theThings.length;\n\n\tif (currentNumberOfThings > OPTIONS.MIN_THINGS) {\n\t\tconst thingEntry = thingButton.parentNode;\n\t\tthingEntry.parentNode.removeChild(thingEntry);\n\t\trenumberThings();\n\t} else {\n\t\t// can't remove thing\n\t\tconsole.log(`couldn't remove thing`);\n\t}\n};\n\nconst resetThings = () => {\n\tconst allThings = document.querySelector('.all-things');\n\tconst theThings = allThings.querySelectorAll('.thing-entry');\n\n\tfor (const thisThing of theThings) {\n\t\tthisThing.parentNode.removeChild(thisThing);\n\t}\n\n\tlet x = 0;\n\twhile (x < 3) {\n\t\taddThing();\n\t\tx++;\n\t}\n};\n\nconst checkInput = (event) => {\n\tconst inputEl = event.target;\n\tconst inputValue = inputEl.value;\n\tconst matcher = /\\^/g;\n\n\tif (matcher.test(inputValue)) {\n\t\tinputEl.value = inputValue.replaceAll('^', '');\n\t}\n};\n\nexport {\n\tinitForm,\n\tsubmitThings,\n\tremoveThing,\n\tresetThings,\n\tcheckInput,\n\taddThing,\n};\n", "import {\n\tinitForm,\n\tsubmitThings,\n\taddThing,\n\tresetThings,\n\tremoveThing,\n\tcheckInput,\n} from './modules/form.js';\n\n// events\nif (document.querySelector('#enter-things')) {\n\twindow.addEventListener('load', () => {\n\t\tinitForm();\n\t});\n\n\tdocument.querySelector('#go').addEventListener('click', (event) => {\n\t\tevent.preventDefault();\n\t\tsubmitThings();\n\t});\n\n\tdocument.querySelector('#cancel').addEventListener('click', (event) => {\n\t\tevent.preventDefault();\n\t\twindow.history.go(-1);\n\t});\n\n\tdocument.querySelector('#addThing').addEventListener('click', (event) => {\n\t\tevent.preventDefault();\n\t\taddThing();\n\t});\n\n\tdocument.querySelector('#resetThings').addEventListener('click', (event) => {\n\t\tevent.preventDefault();\n\t\tresetThings();\n\t});\n\n\tdocument.addEventListener('click', (event) => {\n\t\tif (event.target.classList.contains('removeThing')) {\n\t\t\tevent.preventDefault();\n\t\t\tremoveThing(event.target);\n\t\t}\n\t});\n\n\tdocument.addEventListener('keypress', (event) => {\n\t\tif (event.target.classList.contains('thing-value')) {\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tcheckInput(event);\n\t\t\t}, 100);\n\t\t}\n\t});\n\n\tdocument.addEventListener('paste', (event) => {\n\t\tif (event.target.classList.contains('thing-value')) {\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tcheckInput(event);\n\t\t\t}, 100);\n\t\t}\n\t});\n}\n"],
  "mappings": "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",
  "names": ["getThingsFromURL", "urlThings", "params", "OPTIONS", "initForm", "urlThings", "getThingsFromURL", "theThings", "thisThing", "urlThing", "addThing", "submitThings", "formValid", "thingEntries", "values", "thingEntry", "thingValue", "allThings", "currentNumberOfThings", "OPTIONS", "newThingDiv", "newThingLabel", "newThingInput", "newThingRemoveButton", "newThingValue", "renumberThings", "index", "theThing", "theThingLabel", "theThingInput", "removeThing", "thingButton", "resetThings", "x", "checkInput", "event", "inputEl", "inputValue", "initForm", "event", "submitThings", "addThing", "resetThings", "removeThing", "checkInput"]
}
