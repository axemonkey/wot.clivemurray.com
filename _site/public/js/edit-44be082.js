(()=>{var a=()=>{let e,n=new URLSearchParams(document.location.search);return n.get("things")&&(e=decodeURIComponent(n.get("things")).split("^")),e};var h={MIN_THINGS:2,MAX_THINGS:30,COLOUR_SELECTION_METHOD:2};var u=()=>{let e=a();if(e&&e.length>=2){let i=document.querySelector(".all-things").querySelectorAll(".thing-entry");for(let t of i)t.parentNode.removeChild(t);e.sort();for(let t of e)c(t)}},d=()=>{let e=!0,n=document.querySelectorAll(".thing-entry input"),i=[];for(let t of n)t.value.length>0?(t.classList.remove("invalid"),i.push(encodeURIComponent(t.value))):(t.classList.add("invalid"),e=!1);e?document.location.href="/?things=".concat(encodeURIComponent(i.join("^"))):console.log("some things are empty")},c=e=>{let n=document.querySelector(".all-things"),t=n.querySelectorAll(".thing-entry").length;if(t<h.MAX_THINGS){let o=document.createElement("div"),r=document.createElement("label"),s=document.createElement("input"),l=document.createElement("button"),f=e||"Thing ".concat(t+1);o.classList.add("thing-entry"),r.setAttribute("for","thing".concat(t+1)),r.innerHTML="Thing ".concat(t+1),s.classList.add("thing-value"),s.setAttribute("type","text"),s.setAttribute("maxlength",30),s.setAttribute("name","thing".concat(t+1)),s.id="thing".concat(t+1),s.value=f,l.setAttribute("tabindex","-1"),l.classList.add("removeThing"),l.classList.add("form-button"),l.innerHTML="Remove this thing",o.append(r),o.append(s),o.append(l),n.append(o)}else console.log("couldn't add thing")},p=()=>{let n=document.querySelector(".all-things").querySelectorAll(".thing-entry"),i=n.length;for(let t=0;t<i;t++){let o=n[t],r=o.querySelector("label"),s=o.querySelector("input");r.setAttribute("for","thing".concat(t+1)),r.innerHTML="Thing ".concat(t+1),s.setAttribute("name","thing".concat(t+1)),s.id="thing".concat(t+1)}},m=e=>{if(document.querySelector(".all-things").querySelectorAll(".thing-entry").length>h.MIN_THINGS){let o=e.parentNode;o.parentNode.removeChild(o),p()}else console.log("couldn't remove thing")},T=()=>{let n=document.querySelector(".all-things").querySelectorAll(".thing-entry");for(let t of n)t.parentNode.removeChild(t);let i=0;for(;i<3;)c(),i++},g=e=>{let n=e.target,i=n.value;/\^/g.test(i)&&(n.value=i.replaceAll("^",""))};document.querySelector("#enter-things")&&(window.addEventListener("load",()=>{u()}),document.querySelector("#go").addEventListener("click",e=>{e.preventDefault(),d()}),document.querySelector("#cancel").addEventListener("click",e=>{e.preventDefault(),window.history.go(-1)}),document.querySelector("#addThing").addEventListener("click",e=>{e.preventDefault(),c()}),document.querySelector("#resetThings").addEventListener("click",e=>{e.preventDefault(),T()}),document.addEventListener("click",e=>{e.target.classList.contains("removeThing")&&(e.preventDefault(),m(e.target))}),document.addEventListener("keypress",e=>{e.target.classList.contains("thing-value")&&window.setTimeout(()=>{g(e)},100)}),document.addEventListener("paste",e=>{e.target.classList.contains("thing-value")&&window.setTimeout(()=>{g(e)},100)}));})();
//# sourceMappingURL=edit-44be082.js.map */
